@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground-rgb: 0, 0, 0;
  --background-rgb: 255, 255, 255;
}

@media (prefers-color-scheme: dark) {
  :root {
    --foreground-rgb: 255, 255, 255;
    --background-rgb: 17, 24, 39;
  }
}

body {
  color: rgb(var(--foreground-rgb));
  background: rgb(var(--background-rgb));
}

/* Crossword grid styles */
.crossword-grid {
  display: grid;
  gap: 1px;
  background-color: #000;
  border: 2px solid #000;
  touch-action: manipulation;
}

.crossword-cell {
  position: relative;
  background-color: #fff;
  aspect-ratio: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: clamp(14px, 4vw, 24px);
  font-weight: 500;
  text-transform: uppercase;
  cursor: pointer;
  user-select: none;
  transition: background-color 0.1s ease;
}

.crossword-cell.black {
  background-color: #1a1a1a;
  cursor: default;
}

.crossword-cell.selected {
  background-color: #a7d8ff;
}

.crossword-cell.highlighted {
  background-color: #fff3cd;
}

.crossword-cell.correct {
  background-color: #d4edda;
}

.crossword-cell.incorrect {
  background-color: #f8d7da;
}

.crossword-cell .cell-number {
  position: absolute;
  top: 1px;
  left: 2px;
  font-size: clamp(8px, 2vw, 11px);
  font-weight: 400;
  line-height: 1;
}

.crossword-cell .cell-value {
  font-family: var(--font-mono), monospace;
}

.crossword-cell .player-cursor {
  position: absolute;
  inset: 0;
  border: 3px solid;
  pointer-events: none;
  opacity: 0.7;
}

.crossword-cell .player-cursor-label {
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  font-size: 10px;
  white-space: nowrap;
  padding: 1px 4px;
  border-radius: 2px;
  color: #fff;
}

/* Clue list styles */
.clue-list {
  @apply space-y-1;
}

.clue-item {
  @apply p-2 rounded cursor-pointer transition-colors;
}

.clue-item:hover {
  @apply bg-gray-100;
}

.clue-item.selected {
  @apply bg-primary-100 border-l-4 border-primary-500;
}

.clue-item.completed {
  @apply text-gray-400;
}

.clue-item.completed .clue-text {
  @apply line-through;
}

/* Chat styles */
.chat-container {
  @apply flex flex-col h-full;
}

.chat-messages {
  @apply flex-1 overflow-y-auto space-y-2 p-4;
}

.chat-message {
  @apply flex flex-col;
}

.chat-message .message-header {
  @apply flex items-center gap-2 text-xs text-gray-500;
}

.chat-message .message-text {
  @apply text-sm;
}

.chat-input {
  @apply border-t p-4;
}

/* Mobile bottom sheet */
.bottom-sheet {
  @apply fixed inset-x-0 bottom-0 bg-white rounded-t-2xl shadow-lg transform transition-transform;
}

.bottom-sheet.closed {
  @apply translate-y-full;
}

.bottom-sheet.open {
  @apply translate-y-0;
}

.bottom-sheet-handle {
  @apply w-12 h-1 bg-gray-300 rounded-full mx-auto my-3;
}

/* Timer display */
.timer {
  @apply font-mono text-2xl font-bold tabular-nums;
}

/* Player avatars */
.player-avatar {
  @apply w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-medium;
}

/* Loading spinner */
.spinner {
  @apply animate-spin rounded-full border-2 border-gray-300 border-t-primary-600;
}

/* Results card */
.results-card {
  @apply bg-gradient-to-br from-primary-500 to-primary-700 text-white rounded-2xl p-6 shadow-xl;
}

/* PWA styles */
@media (display-mode: standalone) {
  body {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* Hide scrollbar for webkit */
.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* Focus styles */
*:focus-visible {
  @apply outline-none ring-2 ring-primary-500 ring-offset-2;
}

/* Button styles */
.btn {
  @apply px-4 py-2 rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2;
}

.btn-primary {
  @apply bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500;
}

.btn-secondary {
  @apply bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-500;
}

.btn-ghost {
  @apply bg-transparent hover:bg-gray-100 focus:ring-gray-500;
}

/* Input styles */
.input {
  @apply w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent;
}

/* Card styles */
.card {
  @apply bg-white rounded-xl shadow-md p-6;
}
